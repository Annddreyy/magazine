"use strict";(self.webpackChunkmagazine=self.webpackChunkmagazine||[]).push([[456],{763:(e,s,t)=>{t.d(s,{A:()=>l});const i="Paginator_paginator__rKT2Y",a="Paginator_pages__YUbRT",r="Paginator_activePage__V0D1Z";var n=t(579);const c=e=>{let{currentPage:s,totalItemsCount:t,pageSize:c,setCurrentPage:l}=e;const o=Math.ceil(t/c);let d=[];for(let i=1;i<=o;i++)d.push(i);const m=e=>l(+e.target.innerHTML),v=d.map((e=>(0,n.jsx)("span",{onClick:m,className:e===s?r:"",children:e},e)));return(0,n.jsx)("div",{className:"container",children:c>0&&(0,n.jsxs)("div",{className:i,children:[(0,n.jsx)("button",{onClick:()=>s>1&&l(s-1),children:"<"}),(0,n.jsx)("div",{className:a,children:v}),(0,n.jsx)("button",{onClick:()=>s<o&&l(s+1),children:">"})]})})},l=e=>function(s){let{totalItemsCount:t,currentPage:i,pageSize:a,setCurrentPage:r,...l}={...s};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e,{...l,currentPage:i,pageSize:a}),(0,n.jsx)(c,{totalItemsCount:t,currentPage:i,pageSize:a,setCurrentPage:r})]})}},1456:(e,s,t)=>{t.r(s),t.d(s,{default:()=>J});var i=t(7222),a=t(1184),r=t(5043),n=t(3923),c=t(3003),l=t(8357);const o="Review_review__+dqr8",d="Review_left__k7TRp",m="Review_information__MRDxC";var v=t(7696),g=t(9589),_=t(9767),h=t(579);const u=e=>{let{img:s,fullname:t,grade:i,comment:a}=e,r=(0,_.A)(i);const n=(0,l.A)(s,v,g.g);return(0,h.jsxs)("article",{className:o,children:[(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("img",{src:n,alt:""}),(0,h.jsx)("span",{children:t})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("p",{children:a}),(0,h.jsx)("div",{children:r})]})]})};var p=t(3386);const w="Reviews_items__CUP41",x=(0,n.Zz)((0,c.Ng)((e=>({isFetching:e.reviews.isFetching}))),p.A)((e=>{let{reviews:s}=e;const t=s.map((e=>(0,r.createElement)(u,{...e,key:e.id})));return(0,h.jsxs)("section",{className:"container",children:[(0,h.jsx)("h2",{children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),(0,h.jsx)("div",{className:w,children:t})]})}));var j=t(763),N=t(2092),R=t(5479);const P=e=>e.reviews.totalReviewsCount,f=e=>e.reviews.pageSize,C=e=>e.reviews.currentPage,A=e=>e.reviews.reviews;class z extends r.Component{componentDidMount(){this.props.getReviews(this.props.currentPage,this.props.pageSize)}componentDidUpdate(e){e.currentPage!==this.props.currentPage&&this.props.getReviews(this.props.currentPage,this.props.pageSize)}render(){return(0,h.jsx)(x,{reviews:this.props.reviews})}}const k=(0,n.Zz)((0,c.Ng)((e=>({reviews:A(e),currentPage:C(e),pageSize:f(e),totalItemsCount:P(e)})),{getReviews:(e,s)=>async t=>{t((0,N.DO)(!0));let i=await R.Gr.getReviews(e,s);t((0,N.DO)(!1)),t((0,N.UF)(i))},setCurrentPage:N.Tm}),j.A)(z);var b=t(6730),S=t(2521);const F="NewReview_items__cerpl",D="NewReview_form__Erjxf",y="NewReview_img__NH9FK",I="NewReview_left__5VdXt",O="NewReview_mainItems__If4J9",T="NewReview_text__J9AWy",Z="NewReview_information__9tvkw",M="NewReview_stars__cpAHm",U="NewReview_title__gOB2k",E="NewReview_button__FWxZN";var G=t(7017);const H=e=>{let{addReview:s,isAuth:t,...i}=e,[a,n]=(0,r.useState)(1);const c=r.createRef(),o=e=>{const s=e.target.closest("span");n(+s.getAttribute("value"))},d=[];for(let r=1;r<=5;r++){let e=a>=r;d.push((0,h.jsx)("span",{value:r,onPointerOver:o,children:(0,h.jsx)(b.A,{isFill:e})},r))}const m=(0,l.A)(i.img,G.Xj,g.g),v=t&&(0,S.A)(i.surname,i.name,i.patronymic);return(0,h.jsx)("section",{className:"container",children:(0,h.jsx)("div",{className:F,children:t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{className:U,children:"\u0411\u0443\u0434\u0435\u043c \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u044b, \u0435\u0441\u043b\u0438 \u0432\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u0435 \u043e\u0442\u0437\u044b\u0432"}),(0,h.jsxs)("form",{action:"",className:D,children:[(0,h.jsxs)("div",{className:O,children:[(0,h.jsxs)("div",{className:I,children:[(0,h.jsx)("img",{src:m,className:y,alt:""}),(0,h.jsx)("span",{children:v})]}),(0,h.jsxs)("div",{className:Z,children:[(0,h.jsx)("textarea",{ref:c,name:"",id:"",className:T}),(0,h.jsx)("div",{className:M,children:d})]})]}),(0,h.jsx)("button",{className:E,onClick:e=>{let t=c.current.value;s(i.id,v,i.img,t,a),e.preventDefault()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432"})]})]}):(0,h.jsx)("h3",{children:"\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})})};var X=t(1128);const B=(0,c.Ng)((e=>({isAuth:(0,X.jb)(e),id:(0,X.OX)(e),surname:(0,X.EZ)(e),name:(0,X.mG)(e),patronymic:(0,X.Bw)(e),img:(0,X._9)(e)})),{addReview:(e,s,t,i,a)=>async r=>{await R.Gr.addReview(e,i,a),r((0,N.z2)(e,s,t,i,a))}})((e=>(0,h.jsx)(H,{...e}))),J=()=>(0,h.jsxs)("div",{children:[(0,h.jsx)(i.A,{}),(0,h.jsx)(k,{}),(0,h.jsx)(B,{}),(0,h.jsx)(a.A,{})]})}}]);
//# sourceMappingURL=456.285b8fa4.chunk.js.map