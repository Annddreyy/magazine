"use strict";(self.webpackChunkmagazine=self.webpackChunkmagazine||[]).push([[276],{982:(e,t,s)=>{s.d(t,{TM:()=>n,pd:()=>l,zp:()=>a});s(5043);var r=s(5274),o=s(579);const n=e=>{let{input:t,meta:s,...n}=e;const l=s.error&&s.touched;return(0,o.jsxs)("div",{className:r.A.formControl+" "+(l?r.A.error:""),children:[(0,o.jsx)("textarea",{...t,...n}),l&&(0,o.jsx)("p",{className:r.A.errorMessage,children:s.error})]})},l=e=>{let{input:t,meta:s,...n}=e;const l=s.error&&s.touched;return(0,o.jsxs)("div",{className:r.A.formControl+" "+(l?r.A.error:""),children:[(0,o.jsx)("input",{type:n.type,className:r.A.input,...t,...n}),l&&(0,o.jsx)("p",{className:r.A.errorMessage,children:s.error})]})},a=e=>{let{input:t,meta:s,...n}=e;const l=s.error&&s.touched;return(0,o.jsx)("div",{className:r.A.formControl+" "+(l?r.A.error:""),children:(0,o.jsx)("input",{type:n.type,onChange:e=>t.onChange(e.target.files[0]),className:r.A.input,...n})})}},5274:(e,t,s)=>{s.d(t,{A:()=>r});const r={formControl:"FormControls_formControl__neQaL",error:"FormControls_error__7Upak",formSummaryError:"FormControls_formSummaryError__llVHA",input:"FormControls_input__8UP1w",errorMessage:"FormControls_errorMessage__prxIH"}},5276:(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var r=s(7222),o=s(1184),n=s(3003),l=s(2741),a=s(5963),i=s(3842),c=s(982),d=s(6545);const m="Form_form__CD8mp",p="Form_redStar__IIhxZ",u="Form_button__oq9Y4";var h=s(1895),x=s(579);const j=(0,i.A)({form:"newProduct"})((e=>{let{handleSubmit:t,error:s}=e;return(0,x.jsxs)("form",{action:"",onSubmit:t,className:m,children:[(0,x.jsx)("h2",{children:"\u0424\u043e\u0440\u043c\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430"}),(0,x.jsxs)("label",{htmlFor:"title",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"title",name:"title",component:c.pd,validate:[d.Q$]}),(0,x.jsxs)("label",{htmlFor:"price",children:["\u0426\u0435\u043d\u0430 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"price",name:"price",component:c.pd,validate:[d.Q$,d.Ww]}),(0,x.jsx)("label",{htmlFor:"status",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,x.jsx)(a.A,{id:"status",name:"status",component:c.pd}),(0,x.jsxs)("label",{htmlFor:"category",children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"category",name:"category",list:"categories",component:c.pd,validate:[d.Q$]}),(0,x.jsx)("datalist",{id:"categories",children:h.L.map((e=>(0,x.jsx)("option",{value:e.value},e.id)))}),(0,x.jsxs)("label",{htmlFor:"description",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"description",name:"description",component:c.TM,validate:[d.Q$],style:F}),(0,x.jsxs)("label",{htmlFor:"compound",children:["\u0421\u043e\u0441\u0442\u0430\u0432 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"compound",name:"compound",component:c.TM,validate:[d.Q$],style:F}),(0,x.jsx)("label",{htmlFor:"photo",children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f "}),(0,x.jsx)(a.A,{id:"photo",name:"photo",type:"file",component:c.zp}),(0,x.jsx)("button",{className:u,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}));var A=s(6494);const g=(0,n.Ng)(null,{addProduct:l.Bj})((e=>{let{addProduct:t}=e;return(0,x.jsx)(j,{onSubmit:async e=>{let s,{title:r,price:o,status:n="",category:l,description:a,compound:i,photo:c}=e;c&&(s=await(0,A.A)(c),s=s.split(",")[1]),t({title:r,price:o,status:n,category:l,description:a,compound:i,img_path:s})}})}));var b=s(5043),f=s(5479);const v=(0,i.A)({form:"deleteProduct"})((e=>{let{handleSubmit:t,error:s}=e;const[r,o]=(0,b.useState)([]);return(0,b.useEffect)((()=>{!async function(){let e=await f.RZ.getAllProducts();o(e)}()}),[]),(0,x.jsxs)("form",{action:"",onSubmit:t,className:m,children:[(0,x.jsx)("h2",{children:"\u0424\u043e\u0440\u043c\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430"}),(0,x.jsxs)("label",{htmlFor:"title",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"title",name:"title",list:"products",component:c.pd,validate:[d.Q$]}),(0,x.jsx)("datalist",{name:"products",id:"products",children:r.map((e=>(0,x.jsx)("option",{value:e.title},e.id)))}),(0,x.jsx)("button",{className:u,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})),N=(0,n.Ng)(null,{deleteProduct:l.DD})((e=>{let{deleteProduct:t}=e;return(0,x.jsx)(v,{onSubmit:e=>{let{title:s}=e;t(s)}})})),y=(0,i.A)({form:"updateProduct"})((e=>{let{handleSubmit:t,error:s}=e;const[r,o]=(0,b.useState)([]);return(0,b.useEffect)((()=>{!async function(){let e=await f.RZ.getAllProducts();o(e)}()}),[]),(0,x.jsxs)("form",{action:"",onSubmit:t,className:m,children:[(0,x.jsx)("h2",{children:"\u0424\u043e\u0440\u043c\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430"}),(0,x.jsxs)("label",{htmlFor:"selected",children:["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u0442\u043e\u0432\u0430\u0440 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"selected",name:"selected",list:"products",component:c.pd,validate:[d.Q$]}),(0,x.jsx)("datalist",{id:"products",children:r.map((e=>(0,x.jsx)("option",{value:e.title})))}),(0,x.jsxs)("label",{htmlFor:"title",children:["\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"title",name:"title",component:c.pd,validate:[d.Q$]}),(0,x.jsxs)("label",{htmlFor:"price",children:["\u0426\u0435\u043d\u0430 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"price",name:"price",type:"number",component:c.pd,validate:[d.Q$,d.Ww]}),(0,x.jsx)("label",{htmlFor:"status",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,x.jsx)(a.A,{id:"status",name:"status",component:c.pd}),(0,x.jsxs)("label",{htmlFor:"category",children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"category",name:"category",list:"categories",component:c.pd,validate:[d.Q$]}),(0,x.jsx)("datalist",{id:"categories",children:h.L.map((e=>(0,x.jsx)("option",{value:e.value},e.id)))}),(0,x.jsxs)("label",{htmlFor:"description",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"description",name:"description",component:c.TM,validate:[d.Q$],style:F}),(0,x.jsxs)("label",{htmlFor:"compound",children:["\u0421\u043e\u0441\u0442\u0430\u0432 ",(0,x.jsx)("span",{className:p,children:"*"})]}),(0,x.jsx)(a.A,{id:"compound",name:"compound",component:c.TM,validate:[d.Q$],style:F}),(0,x.jsx)("label",{htmlFor:"photo",children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f "}),(0,x.jsx)(a.A,{id:"photo",name:"photo",type:"file",component:c.zp}),(0,x.jsx)("button",{className:u,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})),_=(0,n.Ng)(null,{updateProduct:l.vc})((e=>{let{updateProduct:t}=e;return(0,x.jsx)(y,{onSubmit:async e=>{let s,{selected:r,title:o,photo:n,price:l,status:a,description:i,compound:c,category:d}=e;n&&(s=await(0,A.A)(n),s=s.split(",")[1]),console.log(1),t({selected:r,title:o,img_path:s,price:l,status:a,description:i,compound:c,category:d}),console.log(3)}})})),F={width:"300px",padding:"0.5em 1em",border:"none",outline:"none",backgroundColor:"var(--medium-gray)"},C=()=>(0,x.jsxs)("section",{className:"container",children:[(0,x.jsx)(g,{}),(0,x.jsx)(N,{}),(0,x.jsx)(_,{})]});var $=s(1128),w=s(8231);const P=(0,n.Ng)((e=>({isAdmin:(0,$.o4)(e)})))((e=>{let{isAdmin:t}=e;return t?(0,x.jsxs)("div",{children:[(0,x.jsx)(r.A,{}),(0,x.jsx)(C,{}),(0,x.jsx)(o.A,{})]}):(0,x.jsx)(w.C5,{to:"/"})}))},6494:(e,t,s)=>{s.d(t,{A:()=>r});const r=function(e){return new Promise(((t,s)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=e=>{s(e)},r.readAsDataURL(e)}))}},6545:(e,t,s)=>{s.d(t,{Q$:()=>r,Ww:()=>n,XP:()=>o,gf:()=>l});const r=e=>{if(!e)return"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},o=e=>t=>{if(t&&t.length<e)return`\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430: ${e} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432`},n=e=>{if(e&&e<=0)return"\u041c\u0430\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: 1"},l=e=>/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/.test(e)?void 0:'\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 1 \u0446\u0438\u0444\u0440\u0443, 1 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e \u0438 1 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0443\u044e \u0431\u0443\u043a\u0432\u0443, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b \u0438\u0437 \u043d\u0430\u0431\u043e\u0440\u0430 "#?!@$%^&*-"'}}]);
//# sourceMappingURL=276.39a8fd1c.chunk.js.map